package SCM_TA_V1;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.*;

public class changeRepresentation {

	public static void txtToCSV() throws FileNotFoundException{
		
		Scanner sc,sc2;
		System.out.println("Enter Number of Files");
		sc2=new Scanner(System.in);
		PrintWriter[] pw=new PrintWriter[Integer.parseInt(sc2.nextLine())] ;
		sc2.close();
		System.out.println("Enter Number of Files");
		sc2=new Scanner(System.in);
		String PName=sc2.nextLine();
		sc2.close();
		for(int i=1;i<=pw.length;i++){
			pw[i-1]=new PrintWriter(new File(System.getProperty("user.dir")+"//results//R1//analysis_"+i+".csv"));
		}
		String[] items;
		String[] items_name = null;
		String[] fileName;
		String fileNum=""; 
		String runNum="";
		int i_fileNUmber=0;
		StringBuilder sb1=new StringBuilder();
		StringBuilder sb2=new StringBuilder();
		for(File fileEntry:new File(System.getProperty("user.dir")+"//results//results").listFiles()){
			sb1.setLength(0);
			sb2.setLength(0);
			sc=new Scanner(new File(fileEntry.toURI()));
			fileName=fileEntry.getName().split("_|\\.");
			runNum=fileName[1];
			fileNum=fileName[2];
			i_fileNUmber=Integer.parseInt(runNum);
			int i=0;
			while(sc.hasNextLine()){
				if(i%11!=0){
					items=sc.nextLine().split(": ");
					sb2.append(items[1]+",");
					if(i_fileNUmber==1)
						sb1.append(items_name[0]+items[0]+",");
				}
				else{
					if(i_fileNUmber==1)
						items_name=sc.nextLine().split(": ");
					else
						sc.nextLine();
				}
				i++;
			}
			if(i_fileNUmber==1){
				sb1.setLength(sb1.length()-1);
				sb1.append("\n");
			}	
			sb2.setLength(sb2.length()-1);
			sb2.append("\n");
			pw[Integer.parseInt(fileNum)-1].write(sb1.toString());
			pw[Integer.parseInt(fileNum)-1].write(sb2.toString());
		}
		
		for(PrintWriter printWriter:pw){
			printWriter.close();
		}
		System.out.println("it's done");
	}
}
